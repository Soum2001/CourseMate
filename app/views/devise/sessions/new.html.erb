<div class="container vh-100 d-flex justify-content-center align-items-center">
  <div class="card p-4 shadow-sm" style="max-width: 400px; width: 100%; border-radius: 15px;">
    <h2 class="text-center mb-2">Welcome to Coursemate</h2>
    <p class="text-center text-muted mb-4">Login to access your courses</p>
    
    <!-- Normal login form -->
    <%= form_with url: user_session_path, method: :post, local: true do |f| %>
      <div class="mb-3">
        <%= f.label :email, class: "form-label" %>
        <%= f.email_field :email, class: "form-control", placeholder: "you@example.com", required: true %>
      </div>
      <div class="mb-3">
        <%= f.label :password, class: "form-label" %>
        <%= f.password_field :password, class: "form-control", placeholder: "Enter your password", required: true %>
      </div>
      <div class="d-grid mt-3">
        <%= f.submit "Login", class: "btn btn-primary btn-lg" %>
      </div>
    <% end %>

    <div class="text-center mt-3">
      <p class="form-link mb-1">Don't have an account? <a href="/signup">Sign Up</a></p>
      <p class="form-link"><a href="/password_reset">Forgot Password?</a></p>
    </div>

    <hr>

    <!-- Google login button -->
    <div class="d-grid mt-3">
      <% if user_signed_in? %>
        <p class="text-center mb-2">Welcome, <%= current_user.email %>!</p>
        <%= button_to "Sign out", destroy_user_session_path, method: :delete, class: "btn btn-danger w-100" %>
      <% else %>
        <%= button_to user_google_oauth2_omniauth_authorize_path, 
            method: :post,
            class: "btn btn-light d-flex align-items-center justify-content-center gap-2 w-100",
            data: { turbo: false } do %>
          <%= image_tag "google_logo.png", alt: "Google", style: "height:20px; width:20px;" %>
          <span>Sign in with Google</span>
        <% end %>
      <% end %>
    </div>
  </div>
</div>

<style>
  .btn-primary {
    background-color: #6C63FF;
    border: none;
  }
  .btn-primary:hover {
    background-color: #5751d9;
  }
  .btn-light {
    border: 1px solid #ddd;
    font-weight: 500;
  }
</style>
